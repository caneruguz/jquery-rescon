!function(i){i.fn.rescon=function(s){var t=this;this.settings=i.extend({complete:null,container:"#pageWrap",action:"run"},s);var e=this;this.sizes=["xs","sm","md","lg"];var n=e.width();return t.currentMode="md",768>n&&(t.currentMode="xs"),n>=768&&992>n&&(t.currentMode="sm"),n>=992&&1200>n&&(t.currentMode="md"),n>=1200&&(t.currentMode="lg"),this.runRescon=function(s,e){i(e).find('div[class^="col-"]').each(function(s,e){for(var n="",a=i(e).attr("class"),r=a.split(" "),c="",s=0;s<r.length;s++){var l=r[s];-1!==l.indexOf("col-")&&(n+=" "+l,-1!==l.indexOf(t.currentMode)&&(c+=" "+l))}i(e).attr("data-rescon",n.trim());var o=a.replace(/^col.*/g,""),d=t.sizes.indexOf(t.currentMode),h=n.split(" ");if(""==c)for(var v=t.recurseDown(d-1,n),s=0;s<h.length;s++){var l=h[s];-1!==l.indexOf(t.sizes[v])&&(c+=" "+l)}if(""==c)var c="col-"+t.currentMode+"-12";var f;f=o.length>0?o+" ":"",i(e).attr("class",f+c.trim())})},this.visibility=function(){i("body").find("*[class^=visible]").each(function(){var s=i(this);t.visibilityToggle(s,"visible")}),e.find("[class^=hidden]").each(function(){var s=i(this);t.visibilityToggle(s,"hidden")})},this.visibilityToggle=function(i,s){var e=i.attr("class");i.attr("class","");for(var n=e.split(" "),a=[],r="",c=0;c<n.length;c++){var l=n[c];if(-1!==l.indexOf(s)){var o=l.split("-"),d=o[1];if(a.push(c),console.log("classview",d),d==t.currentMode){if("visible"===s)if(console.log(o),o.length>2){var h=o[3]?o[2]+"-"+o[3]:o[2];console.log("classDisplay",h),i.css("display",h)}else i.addClass("show");"hidden"===s&&i.addClass("hidden")}else"visible"===s&&i.addClass("hidden"),"hidden"===s&&i.addClass("show")}}a.map(function(i){r+=n[i],n[i]=""});var v=n.join(" ").trim();i.addClass(v),i.attr("data-visibility",r)},this.visibilityReset=function(){i("body").find("*[data-visibility^=visible]").each(function(){i(this).addClass(i(this).attr("data-visibility"))}),e.find("[data-visibility^=hidden]").each(function(){i(this).addClass(i(this).attr("data-visibility"))})},this.recurseDown=function a(i,s){return i>=0?s.indexOf(t.sizes[i])?i:void a(i-1,s):-1},this.reset=function(s,t){i(t).find('div[data-rescon^="col-"]').each(function(s,t){var e=i(t).attr("data-rescon"),n=i(t).attr("class"),a=n.replace(/^col.*/g,"");i(t).attr("class",a+" "+e)})},"run"===this.settings.action&&(e.each(t.runRescon),t.visibility()),"reset"===this.settings.action&&(e.each(t.reset),t.visibilityReset()),i(this.settings.container).resize(function(){e.each(t.runRescon),t.visibility()}),i.isFunction(t.settings.complete)&&t.settings.complete.call(this),this}}(jQuery);